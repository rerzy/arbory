(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+E2u":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));n("lb/0"),n("IuUF");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o={language:"en",entities_latin:!1,forcePasteAsPlainText:!0,height:"400px",allowedContent:!0,format_tags:"p;h2;h3",toolbar:[["Bold","Italic"],["Format"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["Subscript","Superscript"],["NumberedList","BulletedList"],["Link","Unlink","Anchor","Image","MediaEmbed"],["Source","Maximize","ShowBlocks"]],extraPlugins:"mediaembed",coreStyles_bold:{element:"b",overrides:"strong"},coreStyles_italic:{element:"i",overrides:"em"}},l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),e.id in CKEDITOR.instances&&CKEDITOR.instances[e.id].destroy(),this.element=e,this.config=n,this.initialize()}var n,l,s;return n=t,(l=[{key:"initialize",value:function(){var e=this.getToken(),t=this.getTextarea(),n=Object.assign(this.getDefaultConfig(),{width:"100%",height:t.outerHeight(),filebrowserImageBrowseUrl:"/admin/filemanager?type=Images",filebrowserImageUploadUrl:"/admin/file-manager/upload?type=Images&responseType=json&_token="+e,filebrowserBrowseUrl:"/admin/filemanager?type=Files",filebrowserUploadUrl:"/admin/file-manager/upload?type=Files&responseType=json&_token="+e});t.attr("id")||t.attr("id","richtext_"+String((new Date).getTime()).replace(/\D/gi,"")),t.data("attachment-upload-url")&&(n.filebrowserUploadUrl=t.data("attachment-upload-url")),t.data("external-stylesheet")&&(n.contentsCss=t.data("external-stylesheet"));for(var r=0,a=Object.entries(this.getCustomConfig());r<a.length;r++){var o=i(a[r],2),l=o[0],s=o[1];n[l]=s}CKEDITOR.replace(this.element,n),this.registerEventHandlers(t)}},{key:"registerEventHandlers",value:function(){var e=this,t=this.getTextarea();t.closest("form").on("beforevalidation",(function(){for(var e in CKEDITOR.instances)CKEDITOR.instances.hasOwnProperty(e)&&CKEDITOR.instances[e].updateElement()})),t.on("richtextresume",(function(){t.data("richtext-suspended")&&(t.show(),t.data("richtext-suspended",!1),e.initialize())})),t.on("richtextsuspend",(function(){t.data("richtext-suspended")||(CKEDITOR.instances[t.attr("id")].destroy(),t.hide(),t.data("richtext-suspended",!0))})),t.on("focusprepare",(function(){t.data("richtext-suspended")||CKEDITOR.instances[t.attr("id")].focus()}))}},{key:"getCustomConfig",value:function(){return this.config}},{key:"getTextarea",value:function(){return e(this.element)}},{key:"getDefaultConfig",value:function(){return o}},{key:"getToken",value:function(){var e=document.head.querySelector('meta[name="csrf-token"]');return e?e.content:null}}])&&a(n.prototype,l),s&&a(n,s),t}()}).call(this,n("EVdn"))},2:function(e,t,n){e.exports=n("Veo6")},"6PYU":function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return a}));var a=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;i(this,e),this.listElement=t,this.targetElement=n,this.referenceNo=r,this.title=a,this.parent=o}var t,n,a;return t=e,(n=[{key:"getParent",value:function(){return this.parent}},{key:"getReferenceNo",value:function(){return this.referenceNo}},{key:"getTitle",value:function(){return this.title}},{key:"getListElement",value:function(){return this.listElement}},{key:"getTargetElement",value:function(){return this.targetElement}},{key:"hasChildren",value:function(){return this.getListElement().find("> .children [data-reference]").length}}])&&r(t.prototype,n),a&&r(t,a),e}()},EyAY:function(e,t,n){"use strict";(function(e){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(i=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return a}));var a=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.navigator=n,this.registry=e}var n,a,o;return n=t,(a=[{key:"initialize",value:function(){this.registerEventHandlers()}},{key:"registerEventHandlers",value:function(){var t=this,n=e("body");n.on("nestedfieldsitemadd","section.nested",(function(e){t.initializeFields(e.target)})),n.ready((function(){t.initializeFields(n[0]),t.navigator.exists()&&t.navigator.init()}))}},{key:"initializeFields",value:function(t){for(var n=function(){var n=i(a[r],2),o=(n[0],n[1]);e(t).find(o.selector).each((function(e,t){new o.handler(t,o.config)}))},r=0,a=Object.entries(this.registry.definitions);r<a.length;r++)n()}},{key:"navigator",set:function(e){this._navigator=e},get:function(){return this._navigator}},{key:"registry",set:function(e){this._registry=e},get:function(){return this._registry}}])&&r(n.prototype,a),o&&r(n,o),t}()}).call(this,n("EVdn"))},"Kbr/":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i=n("yvfd");function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.config=n,this.translatable=this.getField().hasClass("localization"),this.initial=0===this.getFieldInput().val().length,this.registerEventHandlers()}var n,a,o;return n=t,(a=[{key:"registerEventHandlers",value:function(){var e=this;this.getFieldGenerateButton().on("click",(function(){return e.generate()})),this.initial&&(this.getFieldInput().on("keyup",(function(){return e.updateFieldLinkValue()})),this.getFromFieldInput().on("blur",(function(){return e.generate()})))}},{key:"generate",value:function(){var e=this;this.getApi().createFrom(this.getFromFieldInput().val()).done((function(t){e.getFieldInput().val(t),e.updateFieldLinkValue()}))}},{key:"getApi",value:function(){return new i.a(this.getGeneratorUrl(),{parent_id:this.getNodeParentId(),object_id:this.getObjectId(),model_table:this.getModelTable(),column_name:this.getFieldName(),locale:this.getFieldLocale()})}},{key:"updateFieldLinkValue",value:function(){this.getFieldLink().find("span:last").text(this.getFieldInput().val())}},{key:"getGeneratorUrl",value:function(){return this.getFieldInput().data("generatorUrl")}},{key:"getFromFieldName",value:function(){return this.getFieldInput().data("fromFieldName")}},{key:"getNodeParentId",value:function(){return this.getFieldInput().data("nodeParentId")}},{key:"getObjectId",value:function(){return this.getFieldInput().data("objectId")}},{key:"getModelTable",value:function(){return this.getFieldInput().data("modelTable")}},{key:"getField",value:function(){return e(this.element)}},{key:"getFieldName",value:function(){return this.getField().data("name")}},{key:"getFieldInput",value:function(){return this.getField().find(".value > input")}},{key:"getFieldLocale",value:function(){return this.getField().closest(".localization").data("locale")}},{key:"getFieldGenerateButton",value:function(){return this.getField().find(".button.generate")}},{key:"getFieldLink",value:function(){return this.getField().find(".link:first")}},{key:"getFromField",value:function(){var e=".field",t="[data-name="+this.getFromFieldName()+"]";return this.translatable&&(e=".localization",t+="[data-locale="+this.getFieldLocale()+"]"),this.getGroup().find(e+t)}},{key:"getFromFieldInput",value:function(){return this.getFromField().find(".value > input")}},{key:"getGroup",value:function(){return this.getField().closest("fieldset.item,.body")}}])&&r(n.prototype,a),o&&r(n,o),t}()}).call(this,n("EVdn"))},MSMv:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));n("NvoQ");function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r={items:"> .item"},a=function(){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,this.config=i,this.container=e(this.element).find(".body:first")[0],this.registerEventHandlers()}var n,r,a;return n=t,(r=[{key:"registerEventHandlers",value:function(){var t=this,n=e(this.container),i={};i.update=this.handleUpdate(),i.stop=function(e,t){t.item.find("textarea").trigger("richtextresume")},i.start=function(e,t){t.item.find("textarea").trigger("richtextsuspend")},this.sortable=e(this.container).sortable(Object.assign(i,this.config.vendor)),n.on("click","> .item > .sortable-navigation .button",(function(e){return t.manualSort(e)})),n.on("click","> .item > header .sortable-navigation.button",(function(e){return t.manualSort(e)})),n.on("DOMNodeInserted DOMNodeRemoved",(function(){return t.handleUpdate()})),this.sortable.on("sortstop",(function(e){return t.sortable.trigger("sortableupdated")}))}},{key:"handleUpdate",value:function(){var e=this,t=this.getItems();t.each((function(n){e.setLocationInput(t.eq(n),n)}))}},{key:"manualSort",value:function(t){var n=e(t.target),i=n.is("button")?n:n.closest("button"),r=i.closest(".item"),a=r.find("textarea");a.trigger("richtextsuspend"),i.hasClass("move-down")&&r.insertAfter(r.next(".item")),i.hasClass("move-up")&&r.insertBefore(r.prev(".item")),a.trigger("richtextresume"),this.handleUpdate(),this.sortable.trigger("sortableupdated")}},{key:"setLocationInput",value:function(e,t){var n=this.getSortByName(),i=e.find('> input[data-name="'.concat(n,'"]')).first();i.length&&i.val(t)}},{key:"getItems",value:function(){return e(this.container).find("> .item")}},{key:"getSortByName",value:function(){return e(this.element).data("sortBy")}}])&&i(n.prototype,r),a&&i(n,a),t}()}).call(this,n("EVdn"))},PIbM:function(e,t,n){"use strict";(function(e,i){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return a}));var a=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.config=n,this.registerEventHandlers()}var n,a,o;return n=t,(a=[{key:"registerEventHandlers",value:function(){var e=this.getField();this.canvas=e.find(".canvas"),this.coordinatesInput=this.getInput(),this.map=new google.maps.Map(this.canvas[0],{zoom:this.coordinatesInput.data("zoom"),center:this.getCenterPosition()}),google.maps.event.addDomListener(this.canvas[0],"mousedown",(function(e){e.stopPropagation()})),this.marker=new google.maps.Marker({map:this.map,draggable:this.isInteractive()}),this.search=new google.maps.places.SearchBox(this.getSearchField()[0]),this.moveMarkerToInputValue(),this.bindEvents()}},{key:"bindEvents",value:function(){var e=this;google.maps.event.addListener(this.map,"click",(function(t){if(!e.isInteractive())return!1;e.clearSearch(),e.marker.setPosition(t.latLng),e.writeCoordinates(e.marker)})),google.maps.event.addListener(this.marker,"dragend",(function(){e.clearSearch(),e.writeCoordinates(e.marker)})),this.coordinatesInput.on("change",(function(){e.moveMarkerToInputValue()})),this.map.addListener("bounds_changed",(function(){e.search.setBounds(e.map.getBounds())})),this.search.addListener("places_changed",(function(){if(!e.isInteractive())return!1;var t=e.search.getPlaces();if(0!==t.length){var n=t[0];e.map.setCenter(n.geometry.location),e.marker.setPosition(n.geometry.location),e.writeCoordinates(e.marker)}}))}},{key:"getCoordinates",value:function(){return this.convertToSemicolon(this.coordinatesInput.val())}},{key:"convertToSemicolon",value:function(e){return e.replace(" ","").replace(",",";")}},{key:"hasValidInputLatLng",value:function(){var e=this.getCoordinates();return e.length>=3&&e.includes(";")}},{key:"getInputLatLng",value:function(){var e=this.getCoordinates().split(";");return[parseFloat(e[0]),parseFloat(e[1])]}},{key:"getCenterPosition",value:function(){this.getField();var e=this.getInput();if(this.hasValidInputLatLng()){var t=this.getInputLatLng();return{lat:t[0],lng:t[1]}}return{lat:e.data("latitude"),lng:e.data("longitude")}}},{key:"moveMarkerToInputValue",value:function(){if(this.hasValidInputLatLng()){var e=this.getInputLatLng();this.marker.setPosition(new google.maps.LatLng(e[0],e[1]))}}},{key:"writeCoordinates",value:function(e){this.coordinatesInput.val([e.position.lat(),e.position.lng()].join(";"))}},{key:"clearSearch",value:function(){this.getSearchField().val(null)}},{key:"getSearchField",value:function(){return this.getField().find(".search-input")}},{key:"getField",value:function(){return e(this.element)}},{key:"getInput",value:function(){return this.getField().find("input.coordinates-input")}},{key:"isInteractive",value:function(){var e=this.getInput().prop("disabled");return i(this.element).data("interactive")&&!e}}])&&r(n.prototype,a),o&&r(n,o),t}()}).call(this,n("EVdn"),n("EVdn"))},UfSH:function(e,t,n){"use strict";(function(e){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return r}));var r=function(){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=n,e(this.element).data("initialized")||this.registerEventHandlers()}var n,r,a;return n=t,(r=[{key:"registerEventHandlers",value:function(){var t=this,n=e(this.element),i=n.find("select"),r=n.find(".value > .contents"),a=r.find(".selected"),o=r.find(".items");e(window).click((function(){o.removeClass("active")})),this.isInteractive()||a.addClass("disabled"),n.on("click",(function(e){e.stopPropagation()})),a.on("click",(function(){if(!t.isInteractive())return!1;o.toggleClass("active")})),o.on("click","li",(function(n){if(!t.isInteractive())return!1;var r=e(n.target),l=r.is("li")?r:r.closest("li"),s=l.index();i.val(i.find("option").eq(s).val()),a.html(l.html()),o.removeClass("active")})),n.data("initialized",!0)}},{key:"isInteractive",value:function(){var t=e(this.element).data("disabled");return 1==e(this.element).data("interactive")&&!t}}])&&i(n.prototype,r),a&&i(n,a),t}()}).call(this,n("EVdn"))},Veo6:function(e,t,n){"use strict";n.r(t);var i=n("+E2u");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var c={language:"en",entities_latin:!1,forcePasteAsPlainText:!0,height:"400px",allowedContent:!0,format_tags:"p;h2;h3",toolbar:[["Bold","Italic"],["Subscript","Superscript"],["Link","Unlink"],["Maximize","ShowBlocks"]],forceEnterMode:!0,enterMode:CKEDITOR.ENTER_BR,shiftEnterMode:CKEDITOR.ENTER_BR,autoParagraph:!1},f=function(e){function t(){return a(this,t),l(this,s(t).apply(this,arguments))}var n,i,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(t,e),n=t,(i=[{key:"getDefaultConfig",value:function(){return c}}])&&o(n.prototype,i),r&&o(n,r),t}(i.b),d=n("UfSH"),h=n("MSMv"),v=n("Kbr/"),g=n("XltL"),m=n("PIbM"),p=n("k4fP");function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function k(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}var w=[{handler:i.b,config:i.a,selector:".type-richText.full"},{handler:f,config:c,selector:".type-richText.compact"},{handler:d.a,selector:".type-icon-picker"},{handler:h.b,config:{vendor:h.a},selector:".type-sortable"},{handler:v.a,selector:".type-slug > .localization"},{handler:v.a,selector:".type-slug:not(.i18n)"},{handler:g.a,selector:g.a.getSelector()},{handler:m.a,selector:".type-map-coordinates"},{handler:p.a,selector:".type-file"}],E=function(){function e(t){y(this,e),this._handler=t.handler,this._config=t.config,this._selector=t.selector}return k(e,[{key:"selector",get:function(){return this._selector},set:function(e){this._selector=e}},{key:"config",get:function(){return this._config},set:function(e){this._config=e}},{key:"handler",get:function(){return this._handler},set:function(e){this._handler=e}}]),e}(),I=new(function(){function e(t){y(this,e);var n=[],i=!0,r=!1,a=void 0;try{for(var o,l=t[Symbol.iterator]();!(i=(o=l.next()).done);i=!0){var s=o.value;n.push(new E(s))}}catch(e){r=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(r)throw a}}this._definitions=n}return k(e,[{key:"addDefinition",value:function(e){this._definitions.push(new E(e))}},{key:"getDefinition",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,a=this.definitions[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;if(o.handler===e)return o}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return null}},{key:"definitions",get:function(){return this._definitions},set:function(e){this._definitions=e}}]),e}())(w),F=n("EyAY"),C=n("bvZ2"),S=new F.a(I,new C.a);S.initialize();t.default=S},XltL:function(e,t,n){"use strict";(function(e,i){function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return o}));var o=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.config=n,this.selected=new Set(this.getInitialValues()),this.registerEventHandlers()}return a(t,null,[{key:"getSelector",value:function(){return".type-object-relation"}}]),a(t,[{key:"registerEventHandlers",value:function(){var n=this,i=this.getField(),r=this.getRelatedElement(),a=this.getRelationalElement(),o=a.find(".item");o.on("click",(function(t){var i=e(t.target);i.hasClass("item")||(i=i.closest(".item")),n.selectRelation(i)})),this.isGrouped()&&a.on("click",".group > .title",(function(t){e(t.target).closest(".group").find(".item").each((function(t,i){n.selectRelation(e(i))}))})),this.isSingular()?(e(window).click((function(){a.removeClass("active")})),r.on("click",(function(){if(!n.isInteractive())return!1;e(t.getSelector()+" .relations.active").removeClass("active"),a.toggleClass("active")})),i.children(".value").on("click",(function(e){return e.stopPropagation()})),o.on("click",(function(){return a.toggleClass("active")}))):this.getRelatedElement().on("click",".item",(function(t){var i=e(t.target);i.hasClass("item")||(i=i.closest(".item")),n.removeRelation(i)}))}},{key:"selectRelation",value:function(e){if(!this.isInteractive())return!1;var t=e.clone(),n=e.data("key");this.selected.has(n)||!this.isSingular()&&this.hasLimit()&&this.selected.size>=this.getLimit()||(this.isSingular()&&(this.selected.clear(),this.getRelationalElement().find(".item").attr("data-inactive","false")),this.selected.add(n),e.attr("data-inactive","true"),this.isSingular()?this.getRelatedElement().html(t):this.getRelatedElement().append(t),this.updateSelectedInputElement())}},{key:"removeRelation",value:function(e){if(!this.isInteractive())return!1;var t=e.data("key");this.selected.delete(t),e.remove(),this.getRelationalElement().find(".item[data-key="+t+"]").attr("data-inactive","false"),this.updateSelectedInputElement()}},{key:"getInitialValues",value:function(){var t=[];return this.getRelatedElement().find(".item").each((function(n,i){var r=e(i);t.push(r.data("key"))})),t}},{key:"updateSelectedInputElement",value:function(){this.getRelatedIdInputElement().val(Array.from(this.selected).join(","))}},{key:"getField",value:function(){return e(this.element)}},{key:"hasLimit",value:function(){return this.getLimit()>0}},{key:"getLimit",value:function(){return parseInt(this.getOptions().limit)}},{key:"hasIndentation",value:function(){return void 0!==this.getOptions().indent}},{key:"isSingular",value:function(){return this.getField().hasClass("single")}},{key:"isGrouped",value:function(){return void 0!==this.getOptions().grouped}},{key:"getRelatedIdInputElement",value:function(){return this.getField().find("[data-name=related_id]")}},{key:"getRelatedElement",value:function(){return this.getField().find(".related")}},{key:"getRelationalElement",value:function(){return this.getField().find(".relations")}},{key:"getOptions",value:function(){var e=this.getField().find(".object-relation");return{limit:e.data("limit"),grouped:e.data("grouped"),indent:e.data("indent")}}},{key:"isInteractive",value:function(){var e=i(this.element).data("disabled");return i(this.element).data("interactive")&&!e}}]),t}()}).call(this,n("EVdn"),n("EVdn"))},bvZ2:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var i=n("6PYU"),r=n("n7ft");function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e(".navigator"),this.navigatorArea=this.element.parents("form"),this.items=[],this.viewportManager=new r.a(this)}var n,o,l;return n=t,(o=[{key:"exists",value:function(){return this.element.length>0}},{key:"init",value:function(){this.items=this.buildTreeFromList(),this.viewportManager.init(),this.registerEvents()}},{key:"registerEvents",value:function(){var t=this;this.element.on("click","[data-reference]",this.onNavigatorClick.bind(this)),e(document).on("nestedfieldsitemadd",(function(n){return t.parseNestedItem(e(n.target))})),e(document).on("nestedfieldsremove",this.onFieldRemove.bind(this)),e(document).on("sortableupdated",this.onSort.bind(this)),e(document).on("navigatoradd navigatorremove navigatorsort",(function(e){t.items=t.buildTreeFromList()}))}},{key:"onSort",value:function(t){var n=this;e(t.target).find("[data-navigator-reference]").each((function(t,i){var r=e(i).data("navigator-reference"),a=n.findByReference(r),o=a.getListElement().parents("ul:first");a.getListElement().insertBefore(o.find("> li").eq(t))})),e(document).trigger("navigatorsort")}},{key:"onNavigatorClick",value:function(t){t.preventDefault();var n=e(t.currentTarget).data("reference"),i=this.findByReference(n);if(i){var r=i.getTargetElement().offset();e("html, body").animate({scrollTop:r.top})}else console.warn("Failed to find navigable element",t,this.items)}},{key:"onFieldRemove",value:function(t,n){var i=n.item,r=(n.target_block,i.data("navigator-reference"));i.length&&r?(this.findByReference(r).getListElement().remove(),e(document).trigger("navigatorremove")):console.error("Failed to find item for deletion",i)}},{key:"getElement",value:function(){return this.element}},{key:"getNavigatorArea",value:function(){return this.navigatorArea}},{key:"getItems",value:function(){return this.items}},{key:"buildTreeFromList",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=n?n.getListElement().find(".children"):this.element,a=[];return r.find("> [data-reference]").each((function(r,o){var l=e(o),s=l.data("reference"),u=e(o).text(),c=new i.a(l,t.findTargetElementByReference(s),s,u,n);a.push(c),c.hasChildren()&&(a=a.concat(t.buildTreeFromList(c)))})),a}},{key:"findTargetElementByReference",value:function(e){return this.navigatorArea.find('[data-navigator-reference="'.concat(e,'"]'))}},{key:"findByReference",value:function(e){var t=this.items.filter((function(t){return t.getReferenceNo()===e}));return t.length?t[0]:null}},{key:"createListItem",value:function(t,n){var i=e("<a />").text(n);return e("<li />").data("reference",t).attr("data-reference",t).append(i)}},{key:"parseNestedItem",value:function(t){var n=t.data("navigator-reference"),i=e(".navigator"),r=i;if(!n){var a=t.parents("[data-navigator-reference]"),o=a.data("navigator-reference");if(!a.length)return void console.warn("No parent found, not navigable");r=i.find('li[data-reference="'.concat(o,'"] > ul'))}var l=t.data("title")||t.data("navigator-title"),s=btoa(String(Date.now()));l&&(this.replaceReferenceNo(t,s),r.append(this.createListItem(s,l)),e(document).trigger("navigatoradd"))}},{key:"replaceReferenceNo",value:function(e,t){e.data("navigator-reference",t),e.attr("data-navigator-reference",t)}}])&&a(n.prototype,o),l&&a(n,l),t}()}).call(this,n("EVdn"))},k4fP:function(e,t,n){"use strict";(function(e){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return r}));var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=e,this.registerEventHandlers()}var n,r,a;return n=t,(r=[{key:"registerEventHandlers",value:function(){var e=this.getField();e.find("input").on("change",(function(){e.find("input.remove").val(0)})),e.find("button.remove").on("click",(function(){e.find("input.remove").val(1),e.find(".thumbnail").hide(),e.find(".file-details").hide()}))}},{key:"getField",value:function(){return e(this.element)}}])&&i(n.prototype,r),a&&i(n,a),t}()}).call(this,n("EVdn"))},n7ft:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));n("6jKL");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:65;i(this,t),this.navigator=e,this.$navigator=e.getElement(),this.navigableAreas=[],this.activeScrollTimeout=null,this.tolerance=n}var n,a,o;return n=t,(a=[{key:"registerEvents",value:function(){var t=this;e(window).on("scroll",(function(e){clearTimeout(t.activeScrollTimeout),t.activeScrollTimeout=setTimeout((function(){t.addActiveState()}),50)})),e(document).on("navigatoradd navigatorremove navigatorsort",(function(e){t.addActiveState()}))}},{key:"init",value:function(){this.registerEvents(),this.addActiveState()}},{key:"addActiveState",value:function(){this.$navigator.find("li").removeClass("active");var e=[],t=!0,n=!1,i=void 0;try{for(var r,a=this.navigator.getItems()[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value,l=o.getTargetElement(),s=o.hasChildren(),u=l.height()*this.tolerance/100*-1;l.is(":in-viewport(".concat(u,")"))&&!s&&(o.getParent()&&e.push(o.getParent()),e.push(o))}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}e.length&&e.forEach((function(e){return e.getListElement().addClass("active")}))}}])&&r(n.prototype,a),o&&r(n,o),t}()}).call(this,n("EVdn"))},yvfd:function(e,t,n){"use strict";(function(e){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,"a",(function(){return a}));var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.apiUrl=e,this.parameters=n}var n,a,o;return n=t,(a=[{key:"createFrom",value:function(t){return e.get(this.apiUrl,Object.assign({from:t},this.parameters))}}])&&r(n.prototype,a),o&&r(n,o),t}()}).call(this,n("EVdn"))}},[[2,0,1]]]);